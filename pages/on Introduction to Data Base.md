- 简单的考点整理
- 实体-联系模型（Entity-Relationship, E-R）
  collapsed:: true
	- 核心概念：实体，属性，联系
	- 实体用方框，属性用圆圈，联系用菱形表示
	- 属性有实体的，也有联系上的
	- EE-R：扩展的实体-联系模型
		- 弱实体：若实体A的存在依赖于其他某个实体的存在，称为弱实体
			- 如“学校学生数据库”中，“家属”是依赖于“学生”的弱实体
			- 以 ”学生（实体） <- 是...家属（联系）<- 家属（实体）“描述
	- 属性划分
		- 1. 标识符 (Identifier)
			- 即ID，是属性的集合(set of attributes)
			- 不同实体的ID一定不同
			- 可能有多个，但有（由设计者指定的）主标识符 (primary ID)
		- 2. 描述符 (Descriptor)
			- 非ID的属性，用以描述实体或联系
		- 3. 单值属性
			- 只能在其定义域上取一个值，如“性别”
		- 4. 组合属性
			- 多个单值属性的组合，如“姓名(属性)”有两个属性，姓和名
		- 5. 多值属性
			- 能在定义域上取多个值，如“爱好”
	- 属性基数
		- 可以用二元组$(x,y)$，描述一个实体在一个属性上的数量特征
		- $x=0/1$: 这一属性是否可为空值，0为可，1为必须有值
		- $y=1/$N: 这一属性是否可为多值，N为可，1为必须为单值
		- （“有什么用呢？”——考试设计模型、画图时标上）
	- 实体在联系中的参与基数
		- min-card(E, R)=0/1: 实体在关系中最少出现次数
			- 0：可选参与
			- 1：强制参与
		- max-card(E, R)=1/N: 实体在关系中最多可出现次数
			- 1：单值参与
			- N：多值参与
		- 如果你考虑关系是一条边，ER是二分图的两个部，其中若干的点是实体
		  那么min-card(E,R)是对E中点度数的下界，max-card是上界。
	- 来一个big example
	  collapsed:: true
		- ![image.png](../assets/image_1676361813108_0.png)
- 关系数据结构
  collapsed:: true
	- 表、关系
		- 其实是一个玩意
		- “关系模式”是“关系”的（形而上的）限制比如“要求属性A+B必须为1”
			- 不保证这个理解是对的，但好像是这么回事
		- 关系则是具体的一张表
		- 每一列叫一个属性，每一行叫一个元组（除去第一行为表框架Table frame/表头 Table heading）
	- 关键字
		- 定义：能唯一最小标识元组的属性集
		- 并非组成成分，只是理论上存在之物。
		- 也称候选关键字；主关键字可以从关键字中任意指定。
		- 外关键字
			- 若表A的一个属性集是表B的关键字，则称其为表A的外关键字
			- 其中表A称引用表，B称被引用表；AB可能是同一个表。
			- 作用似乎是在外连接时；不过（对于考试反正）也没太大用就是了。
	- 表相容 (compatible)
		- 表R与表S相容 <=> head(R)=head(S) 且具有相同语义
- 关系操纵
	- **注意所有运算都是去重的：重复在数据表里时没意义的**
	- 基础运算
		- 赋值运算 $R\coloneqq$ <expression>
			- 用来保存中间结果
			- 在新表中，可以采用“原来表.原来属性”的方法表示属性
				- 如$R(A_1, A_2)$与$S(A_2, A_3)$，$T\coloneqq R\times S$
				- 则可以说$T$中有属性$R.A_1, R.A_2, S.A_2, S.A_3$.
				- 如果需要，可以自然联结而非笛卡尔积，或者再使用投影运算去重$A_2$
			- ![image.png](../assets/image_1676363464725_0.png){:height 382, :width 496}
		- 选择运算$\sigma_F(R)$
			- 依照条件$F$从$R$中选出满足的元组。
			- $F$的例子如$A_1=A_2\wedge A_3>A_4$
			- ![7B33B3BF1FF1BA5A61590C7015FE2CEF.png](../assets/7B33B3BF1FF1BA5A61590C7015FE2CEF_1676362733620_0.png){:height 211, :width 348}
		- 投影运算 $\pi_{A_1, ..., A_k}(R)$
			- 选出关系的若干列，构成新关系。
			- （将所有元组投影到这几个属性上）
			- 下标$A_1, ..., A_k$需要为$R$的属性
			- ![8541921E693075A8F708041677A77ACE.png](../assets/8541921E693075A8F708041677A77ACE_1676362773307_0.png){:height 177, :width 421}
		- 笛卡尔积 $R\times S$
			- 将$R$中的所有元组与$S$中所有元组拼接，产生$|R|\cdot |S|$个元组。
			- ![61D4DF5929330A60300D2E98E7E75518.png](../assets/61D4DF5929330A60300D2E98E7E75518_1676362881829_0.png){:height 296, :width 425}
		- 并运算 $R\cup S$
			- 要求$R$与$S$是同类关系，也即表框架相同+值域相同
			- 然后合并去重
			- ![D8AA2CC6C78341B491DCAC6836BA1AAF.png](../assets/D8AA2CC6C78341B491DCAC6836BA1AAF_1676363063216_0.png){:height 171, :width 431}
		- 差运算 $R-S$
			- 也要求是同类关系
			- 集合的差运算
			- ![B936A2BB1242A80ED94EB92DDA181F5C.png](../assets/B936A2BB1242A80ED94EB92DDA181F5C_1676363068506_0.png){:height 194, :width 433}
	- 扩充运算（均可有基础运算表达）
		- 交运算 $R\cap S$
			- 要求为同类关系
			- 转换：$R\cap S = R-(R-S)$
				- 去除$R$中不属于$S$的部分
			- ![image.png](../assets/image_1676363895843_0.png){:height 137, :width 427}
		- 联结运算 (Join)
			- \theta-联结运算 $R\underset{F}{\Join} S$
				- 依据关系$F$拼接$R$与$S$中的元组；拼接后
				- 转换：$\sigma_F(R\times S)$
				-
-